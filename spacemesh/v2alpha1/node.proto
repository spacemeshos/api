syntax = "proto3";

package spacemesh.v2alpha1;

message NodeStatusRequest {}

message NodeStatusResponse {
  uint64 connected_peers = 1; // number of connected neighbors
  enum SyncStatus {
    SYNC_STATUS_UNSPECIFIED = 0;
    SYNC_STATUS_OFFLINE = 1;
    SYNC_STATUS_SYNCING = 2;
    SYNC_STATUS_SYNCED = 3;
  }
  SyncStatus status = 2;
  uint32 synced_layer = 3; // the last layer node has synced
  uint32 verified_layer = 4; // the last layer node has verified
  uint32 head_layer = 5; // head layer is the tip
  uint32 head_block = 6;
}

service NodeService {
  rpc Status(NodeStatusRequest) returns (NodeStatusResponse);
}